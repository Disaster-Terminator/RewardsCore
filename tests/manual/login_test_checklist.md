# 登录模块测试清单

## 目标
让 Kiro 能自己发现登录问题，不需要人工反馈。

## 核心测试（必须通过）

### 1. 标准登录流程
- [ ] 输入邮箱 → 点击下一步 → 输入密码 → 登录成功
- [ ] 验证：能进入 rewards.bing.com
- [ ] 验证：session 被保存

### 2. 2FA 登录流程  
- [ ] 标准登录 → 检测到 2FA 页面 → 输入 TOTP → 登录成功
- [ ] 验证：TOTP 生成正确
- [ ] 验证：能通过 2FA 验证

### 3. 错误处理
- [ ] 错误密码 → 显示错误 → 不无限重试
- [ ] 元素找不到 → 重试 3 次 → 优雅失败
- [ ] 网络超时 → 重试 → 最终失败

### 4. 会话恢复
- [ ] 使用已保存的 session → 跳过登录 → 直接进入
- [ ] session 过期 → 重新登录

### 5. 边界情况
- [ ] 空邮箱 → 提示错误
- [ ] 空密码 → 提示错误
- [ ] 超长输入 → 不崩溃

## 实现优先级

**P0（本周）：**
1. 标准登录流程测试
2. 错误处理测试

**P1（下周）：**
3. 2FA 登录测试
4. 会话恢复测试

**P2（有时间再做）：**
5. 边界情况测试

## 如何使用

1. **人工测试**：按清单逐项测试，记录失败的项
2. **转化为自动化**：失败的项写成自动化测试
3. **持续改进**：发现新问题 → 添加到清单 → 写测试

---

**当前状态：** 0/5 核心测试通过  
**下次更新：** 完成 P0 测试后更新
